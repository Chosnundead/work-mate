# Анализатор логов

Этот проект представляет собой инструмент командной строки для анализа лог-файлов в формате JSON. Он обрабатывает один или несколько лог-файлов, при необходимости фильтрует записи по дате и генерирует отчеты на основе данных логов.

## Возможности

-   Загрузка и разбор нескольких JSON лог-файлов
-   Фильтрация записей логов по дате (ГГГГ-ММ-ДД)
-   Генерация отчетов по данным логов (в настоящее время поддерживается среднее время отклика по каждому эндпоинту)
-   Красивый вывод отчетов с использованием библиотеки `tabulate`, если она установлена
-   Включены автоматические тесты с использованием `pytest`

## Использование

Запустите анализатор с помощью следующих аргументов командной строки:

```
python main.py --file <лог_файл1> [--file <лог_файл2> ...] --report average [--date ГГГГ-ММ-ДД]
```

-   `--file`: Путь к лог-файлу. Можно указать несколько раз для анализа нескольких файлов.
-   `--report`: Тип отчета для генерации. В настоящее время поддерживается только `average`.
-   `--date`: (Опционально) Фильтрация записей логов по указанной дате (формат: ГГГГ-ММ-ДД).

Пример:

```
python main.py --file example1.log --file example2.log --report average --date 2025-06-22
```

## Формат лог-файла

Лог-файлы должны содержать по одной JSON-записи в каждой строке с как минимум следующими полями:

-   `@timestamp`: Строка с временной меткой в формате ISO 8601
-   `url`: URL эндпоинта, к которому был выполнен запрос
-   `response_time`: Время отклика в секундах (число с плавающей точкой)

Пример строки лога:

```json
{
    "@timestamp": "2025-06-22T10:00:00+00:00",
    "url": "/api/test",
    "response_time": 0.123
}
```

## Тестирование

Тесты реализованы с использованием `pytest`. Для запуска тестов установите pytest и выполните:

```
pytest
```

## Зависимости

-   Python 3.7 и выше
-   Опционально: библиотека `tabulate` для красивого вывода отчетов

Установите `tabulate` с помощью:

```
pip install tabulate
```

## Лицензия

Этот проект предоставляется "как есть" без каких-либо гарантий.
